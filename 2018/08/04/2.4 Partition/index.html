<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="2.4 Partition思路题意理解把链表分成两部分，要求所有小于轴点的结点在大于等于轴点的结点的前面。划分后的两部分不需要排序。
分析1如果允许返回一个新的链表，就只需要遍历原来的链表，控制前后加结点就可以。不知道题目的假设是否允许。
如果只在原来的链表上修改….
Hint 3There are">
    

    <!--Author-->
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="2.4 Partition"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="ZJZz&#39;s Garage"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>2.4 Partition - ZJZz&#39;s Garage</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <!-- favicon --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
	
</head>


<body>

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Hello</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/klugjo/hexo-theme-clean-blog">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>2.4 Partition</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2018-08-04
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/CtCI/">#CtCI</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="2-4-Partition"><a href="#2-4-Partition" class="headerlink" title="2.4 Partition"></a>2.4 Partition</h1><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h3 id="题意理解"><a href="#题意理解" class="headerlink" title="题意理解"></a>题意理解</h3><p>把链表分成两部分，要求所有小于轴点的结点在大于等于轴点的结点的前面。划分后的两部分不需要排序。</p>
<h3 id="分析1"><a href="#分析1" class="headerlink" title="分析1"></a>分析1</h3><p>如果允许返回一个新的链表，就只需要遍历原来的链表，控制前后加结点就可以。不知道题目的假设是否允许。</p>
<p>如果只在原来的链表上修改….</p>
<h3 id="Hint-3"><a href="#Hint-3" class="headerlink" title="Hint 3"></a>Hint 3</h3><p>There are many solutions to this problem, most of which are equally optimal in runtime. Some have shorter, cleaner code than others. Can you brainstorm different solutions ?</p>
<h3 id="分析2"><a href="#分析2" class="headerlink" title="分析2"></a>分析2</h3><p>受2.3 Delete Middle Node的启发，如果不移动结点，只是改变值的话，是不是会更简单一些？</p>
<p>有一个想法，用两个指针去遍历整个链表，less和great，一前一后，less总保留比轴点小的结点，great保留比轴点大的结点。less在前，great在后。当满足交换的结果时，同时移动。当不满足是，移动great,找到小的结点时交换数值，再移动less。直到great到达链表末尾。</p>
<h3 id="Hint-24"><a href="#Hint-24" class="headerlink" title="Hint 24"></a>Hint 24</h3><p>Consider that the elements don’t have to stay in the same relative order. We only need to ensure that elements less than the pivot must be before elements greater than the pivot. Does that help you come up with more solutions ?</p>
<h3 id="分析3"><a href="#分析3" class="headerlink" title="分析3"></a>分析3</h3><p>我觉得分析2中的思路还可以, 看看参考代码的思路吧。参考代码没有这个思路，需要实现一下看看是否正确。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="前条件-不变式-后条件"><a href="#前条件-不变式-后条件" class="headerlink" title="前条件/不变式/后条件"></a>前条件/不变式/后条件</h3><h3 id="代码片段"><a href="#代码片段" class="headerlink" title="代码片段"></a>代码片段</h3><ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">partitionList</span><span class="params">(unord_list,pivot)</span>:</span></div><div class="line">    less = unord_list.head</div><div class="line">    greater = less.get_next()</div><div class="line"></div><div class="line">    <span class="keyword">while</span> greater != <span class="keyword">None</span>:</div><div class="line"></div><div class="line">        <span class="comment"># right order</span></div><div class="line">        <span class="keyword">if</span> greater.get_data() &gt;= pivot <span class="keyword">and</span> less.get_data() &lt; pivot:</div><div class="line">            less = less.get_next()</div><div class="line">            greater = greater.get_next()</div><div class="line">        <span class="comment"># wrong order, need swap</span></div><div class="line">        <span class="keyword">elif</span> greater.get_data() &lt; pivot <span class="keyword">and</span> less.get_data() &gt;= pivot :</div><div class="line">            temp = greater.get_data()</div><div class="line">            greater.set_data(less.get_data())</div><div class="line">            less.set_data(temp)</div><div class="line">        <span class="comment"># potential swap</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            greater = greater.get_next()</div></pre></td></tr></table></figure>
<ul>
<li>C++</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">partitionList</span><span class="params">(UnordedList * unord_list, <span class="keyword">int</span> pivot)</span> </span>&#123;</div><div class="line"></div><div class="line">    Node * less = unord_list-&gt;head;</div><div class="line">    Node * greater = less-&gt;get_next();</div><div class="line"></div><div class="line">    <span class="keyword">while</span>( greater != <span class="literal">nullptr</span> ) &#123;</div><div class="line"></div><div class="line">        <span class="comment">// right order</span></div><div class="line">        <span class="keyword">if</span> (greater-&gt;get_data() &gt;= pivot &amp;&amp; less-&gt;get_data() &lt; pivot) &#123;</div><div class="line">            less = less-&gt;get_next();</div><div class="line">            greater = greater-&gt;get_next();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// wrong order, need swap</span></div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( greater-&gt;get_data() &lt; pivot &amp;&amp; less-&gt;get_data() &gt;= pivot ) &#123;</div><div class="line">            <span class="keyword">int</span> temp = greater-&gt;get_data();</div><div class="line">            greater-&gt;set_data(less-&gt;get_data());</div><div class="line">            less-&gt;set_data(temp);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// potential swap</span></div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            greater = greater-&gt;get_next();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">partitionList</span><span class="params">(unord_list,pivot)</span>:</span></div><div class="line">    less = unord_list.head</div><div class="line">    greater = less.get_next()</div><div class="line"></div><div class="line">    <span class="keyword">while</span> greater != <span class="keyword">None</span>:</div><div class="line"></div><div class="line">        <span class="comment"># right order</span></div><div class="line">        <span class="keyword">if</span> greater.get_data() &gt;= pivot <span class="keyword">and</span> less.get_data() &lt; pivot:</div><div class="line">            less = less.get_next()</div><div class="line">            greater = greater.get_next()</div><div class="line">        <span class="comment"># wrong order, need swap</span></div><div class="line">        <span class="keyword">elif</span> greater.get_data() &lt; pivot <span class="keyword">and</span> less.get_data() &gt;= pivot :</div><div class="line">            temp = greater.get_data()</div><div class="line">            greater.set_data(less.get_data())</div><div class="line">            less.set_data(temp)</div><div class="line">        <span class="comment"># potential swap</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            greater = greater.get_next()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    unord_list = UnorderedList([<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>])</div><div class="line">    </div><div class="line">    partitionList(unord_list, <span class="number">5</span>)</div><div class="line"></div><div class="line">    unord_list.printList()</div></pre></td></tr></table></figure>
<ul>
<li>C++</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">partitionList</span><span class="params">(UnordedList * unord_list, <span class="keyword">int</span> pivot)</span> </span>&#123;</div><div class="line"></div><div class="line">    Node * less = unord_list-&gt;head;</div><div class="line">    Node * greater = less-&gt;get_next();</div><div class="line"></div><div class="line">    <span class="keyword">while</span>( greater != <span class="literal">nullptr</span> ) &#123;</div><div class="line"></div><div class="line">        <span class="comment">// right order</span></div><div class="line">        <span class="keyword">if</span> (greater-&gt;get_data() &gt;= pivot &amp;&amp; less-&gt;get_data() &lt; pivot) &#123;</div><div class="line">            less = less-&gt;get_next();</div><div class="line">            greater = greater-&gt;get_next();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// wrong order, need swap</span></div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( greater-&gt;get_data() &lt; pivot &amp;&amp; less-&gt;get_data() &gt;= pivot ) &#123;</div><div class="line">            <span class="keyword">int</span> temp = greater-&gt;get_data();</div><div class="line">            greater-&gt;set_data(less-&gt;get_data());</div><div class="line">            less-&gt;set_data(temp);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// potential swap</span></div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            greater = greater-&gt;get_next();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> arr[<span class="number">7</span>] = &#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>&#125;;</div><div class="line">    <span class="keyword">auto</span> unord_list = <span class="keyword">new</span> UnordedList(arr, <span class="number">7</span>);</div><div class="line">    partitionList(unord_list, <span class="number">5</span>);</div><div class="line">    unord_list-&gt;printList();</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr />
    <h3>Kommentare:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/klugjo/hexo-theme-clean-blog" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 ZJZz&#39;s Garage<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Powered by <a target="_blank" href="https://hexo.io/">Hexo</a> </p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'zjz';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>

</html>